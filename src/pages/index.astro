---
import Base from '../layouts/Base.astro';
import { getCollection } from 'astro:content';

const reflections = (await getCollection('reflections'))
  .sort((a, b) => a.data.order - b.data.order);
const rawBase = import.meta.env.BASE_URL ?? Astro.site?.pathname ?? '/';
const base = rawBase.endsWith('/') ? rawBase : `${rawBase}/`;
---
<Base title="Overview" noIndex={true /* optional, if you don't want it indexed */}>
  <h1 class="page-title">Overview</h1>
  <ul>
    {reflections.map(r => (
      <li>
        <a href={`${base}reflections/${r.slug}/`}>{r.data.title}</a>
      </li>
    ))}
  </ul>
</Base>
